# Codex Function Removal Plan

Source: tools/unified-audit/out/20260102064916/functions-summary.json

## Full Obsolete List (82)

1.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/\_debug-auth-env.ts
2.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/\_inventory.ts
3.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/auth-logout.ts
4.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/categories-delete.ts
5.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/categories-list.ts
6.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/categories-upsert.ts
7.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/clean-reserved-inventory.ts
8.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/collection-counts-cron.ts
9.  /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-detail.ts
10. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-invoice-create.ts
11. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-list.ts
12. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-profile-get.ts
13. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-profile-list.ts
14. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/customers-profile-upsert.ts
15. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/inventory-check.ts
16. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/inventory-sync.ts
17. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/invoice-send.ts
18. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/invoices-list.ts
19. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/merchant-feed-upload-cron.ts
20. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/order-detail.ts
21. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/order-update-status.ts
22. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/products-delete.ts
23. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/products-detail.ts
24. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/products-duplicate.ts
25. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/products-upsert.ts
26. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/promotion-status-cron.ts
27. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/quotes-convert-to-invoice.ts
28. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/quotes-list.ts
29. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/quotes-send.ts
30. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/quotes-upsert.ts
31. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/review-aggregation.ts
32. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/sale-status-cron.ts
33. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/seo-maintenance.ts
34. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/tracking-update.ts
35. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/upload-image.ts
36. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/netlify/functions/vendor-application.ts
37. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/admin/orders/[id].ts
38. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/admin/orders/index.ts
39. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/auth/forgot-password.ts
40. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/auth/password-reset/confirm.ts
41. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/auth/reset-password.ts
42. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/collections/[slug].ts
43. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/collections/featured.ts
44. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/collections/menu.ts
45. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/products/[productId]/reviews.ts
46. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/products/[slug].ts
47. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/promotions/[slug].ts
48. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/promotions/apply.ts
49. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/promotions/validate.ts
50. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/reviews/[reviewId]/vote.ts
51. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/site-search.ts
52. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/dashboard.ts
53. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/invoices/[id].ts
54. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/login.ts
55. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/logout.ts
56. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/me.ts
57. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/messages/[id].ts
58. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/messages/index.ts
59. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/notifications/index.ts
60. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/orders/[id].ts
61. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/orders/submit.ts
62. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/password-reset/confirm.ts
63. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendor/returns/index.ts
64. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendors/create-order.ts
65. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendors/invite.ts
66. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/vendors/setup.ts
67. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/pages/api/wheel-quotes.ts
68. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/server/vendor-portal/config.ts
69. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/server/vendor-portal/email.ts
70. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-cms-fresh/src/server/vendor-portal/passwords.ts
71. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/create-shipping-label.ts
72. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/emailEvents.ts
73. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/fixCardDetails.ts
74. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/referenceHealth.ts
75. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/runEmailAutomations.ts
76. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/syncStripeCoupons.ts
77. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/vendor-onboarding-cron.ts
78. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/wholesale-cart.ts
79. /Users/ambermin/LocalStorm/Workspace/DevProjects/GitHub/fas-sanity/netlify/functions/wholesale-catalog.ts

## Detailed Fix Plan (Codex Prompt)

You are Codex. You will remove obsolete functions safely and deterministically. Do not refactor application logic. Do not delete anything that is still referenced by static call-sites, webhooks, schedules, or integration contracts.

### Inputs (Authoritative, Read-Only)

- tools/unified-audit/out/20260102064916/functions-summary.json
- Repo file system (all workspaces)
- netlify.toml, webhook provider dashboards/configs (Stripe, EasyPost, Resend, etc.)

### Required Output

- A deletion plan with batches, each batch listing files to remove
- Evidence for each file: no call-sites, no schedules, no webhook configs, no env/contract requirement
- Post-delete verification checklist

### Procedure

1. Confirm candidates are truly unused
   - For each file in the obsolete list, search for static call-sites (fetch/axios/import/URL references).
   - Check netlify.toml schedules and any job runners for references to function names.
   - Check webhook configs and integration docs for endpoint URLs.
   - If any usage is found, remove from deletion list and report it.
2. Delete in small batches
   - Start with 5-10 functions per batch.
   - For each batch: delete files, remove any scheduled hooks referencing them, and update docs if needed.
3. Re-run audit after each batch
   - Run `node tools/unified-audit/cli.mjs functions` after each batch.
   - Ensure the deleted functions do not reappear and no new usage is detected.
4. Post-delete validation
   - Verify production/preview logs for 404s on removed function endpoints.
   - Verify external integrations (Stripe/EasyPost/Resend/etc.) are not calling removed endpoints.

### Constraints

- Read-only analysis until deletions are explicitly requested.
- Never delete a function with any usage evidence.
- Keep changes minimal and deterministic.
