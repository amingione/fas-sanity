/* ===== VS CODE DARK MODERN COLOR VARIABLES ===== */
:root,
[data-scheme="dark"] {
  /* VS Code Dark Modern Palette - Adjusted for better contrast */
  --vs-bg-darkest: #121212 !important;      /* Main background */
  --vs-bg-dark: #1A1A1A !important;          /* Secondary background */
  --vs-bg-mid-dark: #212121 !important;      /* Card/elevated surfaces */
  --vs-border: #1a1a1a00 !important;           /* Borders */
  --vs-blue: #8b8b8b !important;             /* Accent/focus color */
  --vs-white: #FFFFFF !important;            /* Pure white text */
  --vs-text: #D4D4D4 !important;             /* Default text - brighter */
  --vs-text-muted: #A9A9A9 !important;       /* Muted text - brighter */
  
  /* VS Code List States - More contrast */
  --vs-list-hover: rgba(255, 255, 255, 0.08) !important;  /* More visible hover */
  --vs-list-active: #37373D !important;      /* Darker selected background with more contrast */
  --vs-list-focus: #2A2D2E !important;       /* Focused but not selected */
}

/* ===== FORCE DARKEST BACKGROUNDS ===== */
body,
[data-ui="Pane"],
[data-ui="DocumentPanel"],
[data-ui="NavDrawer"],
[data-ui="Navbar"],
[data-ui="PaneHeader"],
[data-ui="DocumentList"],
[data-ui="VirtualList"],
[data-ui="HistoryPanel"],
[data-ui="ChangesPanel"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== RESET PREVIOUS HOVER STATES ===== */
[data-ui="MenuItem"],
[data-ui="PaneItem"],
[data-ui="DocumentListItem"],
[data-ui="PreviewCard"],
[data-ui="TreeItem"],
[data-ui="HistoryItem"],
[data-ui="ChangeItem"],
[data-ui="AutocompleteOption"],
[data-ui="Card"][data-as="button"] {
  background-color: transparent !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  border-radius: 0 !important;
  transition: all 0.1s ease !important;
  margin: 0 !important;
  padding: 6px 12px !important;
  color: var(--vs-text) !important;
}

/* ===== VS CODE EXPLORER HOVER STATE ===== */
/* More visible hover with better contrast */
[data-ui="MenuItem"]:hover,
[data-ui="PaneItem"]:hover,
[data-ui="DocumentListItem"]:hover,
[data-ui="PreviewCard"]:hover,
[data-ui="TreeItem"]:hover,
[data-ui="HistoryItem"]:hover,
[data-ui="ChangeItem"]:hover,
[data-ui="AutocompleteOption"]:hover,
[data-ui="Card"][data-as="button"]:hover {
  background-color: var(--vs-list-hover) !important;
  border-left-color: transparent !important;
  color: var(--vs-white) !important;
}

/* ===== VS CODE ACTIVE/SELECTED STATE ===== */
/* Higher contrast selected state */
[data-selected="true"],
[aria-selected="true"],
[aria-current="page"],
[data-ui="MenuItem"][data-selected="true"],
[data-ui="PaneItem"][data-selected="true"],
[data-ui="DocumentListItem"][data-selected="true"],
[data-ui="PreviewCard"][data-selected="true"],
[data-ui="TreeItem"][data-selected="true"],
[data-ui="HistoryItem"][data-selected="true"],
[data-ui="ChangeItem"][data-selected="true"],
[data-ui="AutocompleteOption"][data-selected="true"],
[data-ui="Card"][data-as="button"][data-selected="true"] {
  background-color: var(--vs-list-active) !important;
  border-left: 3px solid var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== DOCUMENT LIST ITEMS ===== */
[data-ui="DocumentListItem"] {
  background-color: transparent !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  padding: 8px 12px !important;
  margin: 1px 0 !important;
  color: var(--vs-text) !important;
}

[data-ui="DocumentListItem"]:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

[data-ui="DocumentListItem"][data-selected="true"] {
  background-color: var(--vs-list-active) !important;
  border-left-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== PANE ITEMS ===== */
[data-ui="PaneItem"] {
  background-color: transparent !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  padding: 6px 12px !important;
  color: var(--vs-text) !important;
}

[data-ui="PaneItem"]:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

[data-ui="PaneItem"][data-selected="true"] {
  background-color: var(--vs-list-active) !important;
  border-left-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== MENU ITEMS ===== */
[data-ui="MenuItem"],
[role="menuitem"] {
  background-color: transparent !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  padding: 6px 12px !important;
  color: var(--vs-text) !important;
}

[data-ui="MenuItem"]:hover,
[role="menuitem"]:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

[data-ui="MenuItem"][data-selected="true"],
[role="menuitem"][data-selected="true"] {
  background-color: var(--vs-list-active) !important;
  border-left-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== TABS ===== */
[data-ui="Tab"],
[data-ui="FieldGroupTab"] {
  background-color: transparent !important;
  color: var(--vs-text-muted) !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  border-radius: 0 !important;
  padding: 8px 16px !important;
  transition: all 0.1s ease !important;
}

[data-ui="Tab"]:hover,
[data-ui="FieldGroupTab"]:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

[data-ui="Tab"][data-selected="true"],
[data-ui="Tab"][aria-selected="true"],
[data-ui="FieldGroupTab"][data-selected="true"] {
  background-color: var(--vs-list-active) !important;
  border-left-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== NAVIGATION DRAWER ===== */
[data-ui="NavDrawer"] {
  background-color: var(--vs-bg-darkest) !important;
  border-right: 1px solid var(--vs-border) !important;
}

[data-ui="NavDrawer"] button,
[data-ui="NavDrawer"] a {
  background-color: transparent !important;
  border: none !important;
  border-left: 3px solid transparent !important;
  border-radius: 0 !important;
  padding: 8px 12px !important;
  transition: all 0.1s ease !important;
  color: var(--vs-text) !important;
}

[data-ui="NavDrawer"] button:hover,
[data-ui="NavDrawer"] a:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

[data-ui="NavDrawer"] button[data-selected="true"],
[data-ui="NavDrawer"] a[data-selected="true"],
[data-ui="NavDrawer"] button[aria-current="page"],
[data-ui="NavDrawer"] a[aria-current="page"] {
  background-color: var(--vs-list-active) !important;
  border-left-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
}

/* ===== CARDS - Keep on darkest background ===== */
[data-ui="Card"] {
  background-color: var(--vs-bg-darkest) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
}

/* Only elevate cards that need it */
[data-ui="Card"][data-tone="default"]:not([data-as="button"]) {
  background-color: var(--vs-bg-dark) !important;
}

/* ===== INPUTS - Dark background with good contrast ===== */
input[type="text"],
input[type="email"],
input[type="url"],
input[type="number"],
input[type="search"],
input[type="tel"],
textarea,
[data-ui="TextInput"],
[data-ui="TextArea"] {
  background-color: var(--vs-bg-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
}

input:hover,
textarea:hover,
[data-ui="TextInput"]:hover,
[data-ui="TextArea"]:hover {
  border-color: var(--vs-blue) !important;
}

input:focus,
textarea:focus,
[data-ui="TextInput"]:focus,
[data-ui="TextArea"]:focus {
  border-color: var(--vs-blue) !important;
  box-shadow: 0 0 0 1px var(--vs-blue) !important;
  outline: none !important;
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== PORTABLE TEXT EDITOR ===== */
[data-ui="PortableTextEditor"] {
  background-color: var(--vs-bg-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
}

[data-ui="PortableTextEditor"]:focus-within {
  border-color: var(--vs-blue) !important;
  box-shadow: 0 0 0 1px var(--vs-blue) !important;
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== BUTTONS ===== */
button[data-tone="primary"],
[data-ui="Button"][data-tone="primary"] {
  background-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
  border: none !important;
  border-radius: 0 !important;
}

button[data-tone="primary"]:hover,
[data-ui="Button"][data-tone="primary"]:hover {
  background-color: #005A9E !important;
}

button[data-tone="default"],
[data-ui="Button"][data-tone="default"],
button:not([data-tone]):not([data-mode="ghost"]),
[data-ui="Button"]:not([data-tone]):not([data-mode="ghost"]) {
  background-color: var(--vs-bg-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
}

button[data-tone="default"]:hover,
[data-ui="Button"][data-tone="default"]:hover,
button:not([data-tone]):not([data-mode="ghost"]):hover,
[data-ui="Button"]:not([data-tone]):not([data-mode="ghost"]):hover {
  background-color: var(--vs-list-hover) !important;
  border-color: var(--vs-blue) !important;
}

/* Ghost buttons */
button[data-mode="ghost"],
[data-ui="Button"][data-mode="ghost"] {
  background-color: transparent !important;
  color: var(--vs-text) !important;
  border: none !important;
}

button[data-mode="ghost"]:hover,
[data-ui="Button"][data-mode="ghost"]:hover {
  background-color: var(--vs-list-hover) !important;
  color: var(--vs-white) !important;
}

/* ===== TEXT COLORS - Higher contrast ===== */
[data-ui="Text"],
[data-ui="Label"],
label {
  color: var(--vs-text) !important;
}

[data-ui="Text"][data-muted="true"] {
  color: var(--vs-text-muted) !important;
}

[data-ui="Heading"] {
  color: var(--vs-white) !important;
}

/* ===== BORDERS ===== */
[data-ui="Navbar"] {
  background-color: var(--vs-bg-darkest) !important;
  border-bottom: 1px solid var(--vs-border) !important;
}

[data-ui="PaneHeader"] {
  background-color: var(--vs-bg-darkest) !important;
  border-bottom: 1px solid var(--vs-border) !important;
}

/* ===== ICONS - Force correct colors ===== */
svg,
[data-ui="Icon"],
[data-sanity-icon] {
  color: var(--vs-text) !important;
}



/* Icons in selected items */
[data-selected="true"] svg,
[data-selected="true"] [data-ui="Icon"],
[data-selected="true"] [data-sanity-icon],
[aria-selected="true"] svg,
[aria-selected="true"] [data-ui="Icon"],
[aria-selected="true"] [data-sanity-icon] {
  color: var(--vs-white) !important;
}

/* Muted icons */
[data-ui="Icon"][data-muted="true"],
svg[data-muted="true"] {
  color: var(--vs-text-muted) !important;
}

/* ===== SCROLLBARS - VS Code style ===== */
* {
  scrollbar-width: thin !important;
  scrollbar-color: var(--vs-border) var(--vs-bg-darkest) !important;
}

*::-webkit-scrollbar {
  width: 14px !important;
  height: 14px !important;
  background-color: var(--vs-bg-darkest) !important;
}

*::-webkit-scrollbar-track {
  background-color: var(--vs-bg-darkest) !important;
}

*::-webkit-scrollbar-thumb {
  background-color: var(--vs-border) !important;
  border: 3px solid var(--vs-bg-darkest) !important;
  border-radius: 0 !important;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: #4C4C4C !important;
}

*::-webkit-scrollbar-thumb:active {
  background-color: #5C5C5C !important;
}

*::-webkit-scrollbar-corner {
  background-color: var(--vs-bg-darkest) !important;
}

/* Horizontal scrollbar */
*::-webkit-scrollbar:horizontal {
  height: 14px !important;
}

/* ===== TOOLTIPS - VS Code style ===== */
[data-ui="Tooltip"],
[role="tooltip"],
.sanity-tooltip {
  background-color: var(--vs-bg-mid-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5) !important;
  padding: 4px 8px !important;
  font-size: 12px !important;
}

/* Tooltip arrow */
[data-ui="Tooltip"]::before,
[role="tooltip"]::before {
  display: none !important;
}

/* ===== TAB BAR BACKGROUND (when tabs don't fill screen) ===== */
[data-ui="TabList"],
[data-ui="FieldGroupTabs"],
[role="tablist"] {
  background-color: var(--vs-bg-darkest) !important;
  border-bottom: 1px solid var(--vs-border) !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Tab panel background */
[data-ui="TabPanel"],
[role="tabpanel"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== EMPTY SPACE IN TAB CONTAINERS ===== */
[data-ui="TabList"] > div,
[data-ui="TabList"] > [data-ui="Flex"],
[data-ui="TabList"] > [data-ui="Box"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== PANE CONTENT BACKGROUND ===== */
[data-ui="PaneContent"],
[data-ui="PaneLayout"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== DIALOG/MODAL BACKGROUNDS ===== */
[data-ui="Dialog"],
[role="dialog"],
[data-ui="Popover"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6) !important;
}

[data-ui="DialogHeader"] {
  background-color: var(--vs-bg-dark) !important;
  border-bottom: 1px solid var(--vs-border) !important;
}

/* Dialog overlay */
[data-ui="DialogOverlay"],
[data-ui="Overlay"] {
  background-color: rgba(0, 0, 0, 0.75) !important;
}

/* ===== MENUS & DROPDOWNS ===== */
[data-ui="Menu"],
[data-ui="MenuButton__popover"],
[role="menu"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
}

/* ===== BADGES ===== */
[data-ui="Badge"] {
  background-color: var(--vs-bg-mid-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 2px !important;
}

[data-ui="Badge"][data-tone="primary"] {
  background-color: var(--vs-blue) !important;
  color: var(--vs-white) !important;
  border: none !important;
}

[data-ui="Badge"][data-tone="positive"] {
  background-color: #4EC9B0 !important;
  color: var(--vs-white) !important;
  border: none !important;
}

[data-ui="Badge"][data-tone="caution"] {
  background-color: #CE9178 !important;
  color: var(--vs-white) !important;
  border: none !important;
}

[data-ui="Badge"][data-tone="critical"] {
  background-color: #F48771 !important;
  color: var(--vs-white) !important;
  border: none !important;
}

/* ===== PRESENCE INDICATORS ===== */
[data-ui="PresenceCircle"] {
  border: 2px solid var(--vs-bg-darkest) !important;
}

/* ===== AVATAR ===== */
[data-ui="Avatar"] {
  border: 2px solid var(--vs-bg-darkest) !important;
}

/* ===== SPINNER/LOADING ===== */
[data-ui="Spinner"] {
  color: var(--vs-blue) !important;
}

/* ===== DIVIDERS ===== */
hr,
[data-ui="Divider"] {
  border-color: var(--vs-border) !important;
  background-color: var(--vs-border) !important;
}

/* ===== EMPTY BACKGROUNDS (catch-all) ===== */
[data-ui="Box"],
[data-ui="Flex"],
[data-ui="Stack"],
[data-ui="Grid"],
[data-ui="Container"],
[data-ui="Inline"] {
  background-color: transparent !important;
}

/* Force darkest background on root containers */
[data-ui="Box"][data-scheme="dark"],
[data-ui="Flex"][data-scheme="dark"],
[data-ui="Stack"][data-scheme="dark"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== STUDIO LAYOUT ROOT ===== */
#sanity,
#sanity > div,
[data-ui="AppLayout"],
[data-ui="StudioLayout"] {
  background-color: var(--vs-bg-darkest) !important;
}

/* ===== SEARCH DIALOG ===== */
[data-ui="SearchDialog"],
[data-ui="CommandList"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
}

[data-ui="SearchDialog"] input {
  background-color: var(--vs-bg-darkest) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
}

/* ===== CODE BLOCKS ===== */
pre,
code,
[data-ui="Code"] {
  background-color: var(--vs-bg-dark) !important;
  color: var(--vs-text) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
}

/* ===== SKELETON LOADERS ===== */
[data-ui="Skeleton"] {
  background: linear-gradient(
    90deg,
    var(--vs-bg-dark) 0%,
    var(--vs-bg-mid-dark) 50%,
    var(--vs-bg-dark) 100%
  ) !important;
  background-size: 200% 100% !important;
  animation: skeleton-loading 1.5s ease-in-out infinite !important;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ===== TOAST NOTIFICATIONS ===== */
[data-ui="Toast"],
[data-ui="ToastCard"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6) !important;
  color: var(--vs-text) !important;
}

[data-ui="Toast"][data-tone="positive"],
[data-ui="ToastCard"][data-tone="positive"] {
  border-left: 4px solid #4EC9B0 !important;
}

[data-ui="Toast"][data-tone="caution"],
[data-ui="ToastCard"][data-tone="caution"] {
  border-left: 4px solid #CE9178 !important;
}

[data-ui="Toast"][data-tone="critical"],
[data-ui="ToastCard"][data-tone="critical"] {
  border-left: 4px solid #F48771 !important;
}

[data-ui="Toast"][data-tone="primary"],
[data-ui="ToastCard"][data-tone="primary"] {
  border-left: 4px solid var(--vs-blue) !important;
}

/* ===== CONTEXT MENU ===== */
[data-ui="ContextMenu"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
}

/* ===== AUTOCOMPLETE DROPDOWN ===== */
[data-ui="Autocomplete"] {
  background-color: var(--vs-bg-dark) !important;
  border: 1px solid var(--vs-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
}

/* ===== BREADCRUMBS ===== */
[data-ui="Breadcrumbs"] {
  background-color: transparent !important;
}

[data-ui="Breadcrumbs"] a,
[data-ui="Breadcrumbs"] button {
  color: var(--vs-text-muted) !important;
}

[data-ui="Breadcrumbs"] a:hover,
[data-ui="Breadcrumbs"] button:hover {
  color: var(--vs-blue) !important;
  background-color: var(--vs-list-hover) !important;
}

/* ===== LINKS ===== */
a,
[data-ui="Link"] {
  color: var(--vs-blue) !important;
  text-decoration: none !important;
}

a:hover,
[data-ui="Link"]:hover {
  color: #3396FF !important;
  text-decoration: underline !important;
}

/* ===== SELECTION ===== */
::selection {
  background-color: rgba(0, 122, 204, 0.4) !important;
  color: var(--vs-white) !important;
}

::-moz-selection {
  background-color: rgba(0, 122, 204, 0.4) !important;
  color: var(--vs-white) !important;
}

/* ===== FOCUS VISIBLE ===== */
*:focus-visible {
  outline: 1px solid var(--vs-blue) !important;
  outline-offset: -1px !important;
}